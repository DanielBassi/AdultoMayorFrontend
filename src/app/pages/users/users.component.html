<div class="container">
  <div class="row">
    <div class="col-lg-2 mb-2">
      <dx-button type="success" text="Agregar usuario" icon="fa fa-plus" (onClick)="showPopUp()"></dx-button>
    </div>
    <div class="col-lg-12">
      <dx-data-grid 
        id="gridContainer" 
        [dataSource]="dataSource" 
        [showBorders]="true"
        [remoteOperations]="false" 
        [allowColumnReordering]="true" 
        [rowAlternationEnabled]="true" 
      >
        <dxo-filter-row [visible]="true"></dxo-filter-row>
        <dxo-paging [enabled]="true"></dxo-paging>

        <dxi-column dataField="nombre" caption="Nombre"></dxi-column>
        <dxi-column dataField="apellido" caption="Apellido"></dxi-column>
        <dxi-column dataField="numeroIdentificacion" caption="Documento de identidad"></dxi-column>
        <dxi-column dataField="correo" caption="Correo"></dxi-column>
        <dxi-column dataField="rol" caption="Rol"></dxi-column>
        <dxi-column caption="acciones" cellTemplate="fichaCellTemplate" alignment="center" [width]="290">
          <div *dxTemplate="let data of 'fichaCellTemplate'" style="display: block;" class="table-content-icons">
            <dx-button class="positionButon" hint="Eliminar" text="Eliminar" type="success" [width]="95">
              Detalles
            </dx-button>
            <dx-button class="positionButon" hint="Editar" text="Editar" type="default" [width]="78" >
              Editar
            </dx-button>
            <dx-button class="positionButon" hint="Eliminar" text="Eliminar" type="danger" [width]="95">
              Eliminar
            </dx-button>
            
          </div>
        </dxi-column>
        
      </dx-data-grid>
    </div>
    
    <dx-popup [width]="700" [height]="450" [showTitle]="true" title="Crear nuevo usuario" [dragEnabled]="false"
      [hideOnOutsideClick]="true" [showCloseButton]="true" [(visible)]="popupVisible">
      <dx-form id="form" [colCount]="2" [(formData)]="user" labelLocation="top" [disabled]="false" [readOnly]="false">

        <dxi-item [label]="{text:'Nombre'}" dataField="nombre">
        </dxi-item>

        <dxi-item [label]="{text:'Apellido'}" dataField="apellido">
        </dxi-item>

        <dxi-item  [label]="{text:'Tipo de identidad'}" dataField="tipoIdentificacion">
        </dxi-item>

        <dxi-item  [label]="{text:'Número de identidad'}" dataField="numeroIdentificacion">
        </dxi-item>

        <dxi-item [label]="{text:'Correo electronico'}" dataField="correo">
        </dxi-item>

        <dxi-item [label]="{text:'Contraseña'}" dataField="clave">
        </dxi-item>

        <dxi-item [label]="{text:'Rol de usuario'}" dataField="rol">
        </dxi-item>

        <dxi-item [colSpan]="2" itemType="button" horizontalAlignment="right" verticalAlignment="bottom"
          [buttonOptions]="buttonOptionsSave">
        </dxi-item>

      </dx-form>
    </dx-popup>

    <dx-toast [(visible)]="isVisible" [type]="type" [message]="message">
    </dx-toast>

  </div>
</div>